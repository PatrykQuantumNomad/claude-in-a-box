{{/*
Headless Service (clusterIP: None) required by the StatefulSet for stable DNS.

StatefulSets require a headless service to provide DNS entries for each pod
(e.g., claude-agent-0.claude-agent.<namespace>.svc.cluster.local). This service
does not load-balance or expose any real ports.

The placeholder port (80) exists because Kubernetes requires at least one port
definition in a Service spec, even for headless services that don't serve traffic.
*/}}
apiVersion: v1
kind: Service
metadata:
  name: {{ include "claude-in-a-box.fullname" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "claude-in-a-box.labels" . | nindent 4 }}
spec:
  clusterIP: None
  selector:
    {{- include "claude-in-a-box.selectorLabels" . | nindent 4 }}
  ports:
    - port: 80
      name: placeholder
